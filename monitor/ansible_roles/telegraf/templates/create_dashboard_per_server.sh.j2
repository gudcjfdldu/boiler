host={{influxdb_host}}:3000
dashboardName="ip-172-31-0-177"
hostname="ip-172-31-0-177"
serverTag={{ serverTag }}


curl -i -H "Content-Type: application/json" \
-H "Accept: application/json" \
-d "{ \"dashboard\": { \"id\": null, \"title\": \"$dashboardName\", \"tags\": [ \"$serverTag\" ], \"timezone\": \"browser\", \"rows\":  [{\"repeat\": null, \"titleSize\": \"h6\", \"collapse\": false, \"isNew\": false, \"title\": \"Row\", \"editable\": true, \"height\": \"250px\", \"repeatRowId\": null, \"panels\": [{\"bars\": false, \"timeFrom\": null, \"links\": [], \"isNew\": true, \"thresholds\": [], \"nullPointMode\": \"connected\", \"renderer\": \"flot\", \"linewidth\": 2, \"steppedLine\": false, \"id\": 1, \"fill\": 1, \"span\": 6, \"title\": \"CPU\", \"tooltip\": {\"sort\": 0, \"shared\": true, \"value_type\": \"cumulative\", \"msResolution\": true}, \"legend\": {\"total\": false, \"show\": true, \"max\": false, \"min\": false, \"current\": false, \"values\": false, \"avg\": false}, \"targets\": [{\"dsType\": \"influxdb\", \"hide\": false, \"tags\": [{\"operator\": \"=\", \"value\": \"$hostname\", \"key\": \"host\"}], \"groupBy\": [], \"select\": [[{\"type\": \"field\", \"params\": [\"usage_iowait\"]}, {\"type\": \"alias\", \"params\": [\"iowait\"]}], [{\"type\": \"field\", \"params\": [\"usage_user\"]}, {\"type\": \"alias\", \"params\": [\"user\"]}], [{\"type\": \"field\", \"params\": [\"usage_idle\"]}, {\"type\": \"alias\", \"params\": [\"idle\"]}]], \"measurement\": \"cpu\", \"policy\": \"default\", \"refId\": \"A\", \"resultFormat\": \"time_series\"}], \"yaxes\": [{\"logBase\": 1, \"show\": true, \"max\": null, \"format\": \"percent\", \"min\": null, \"label\": null}, {\"logBase\": 1, \"show\": false, \"max\": null, \"format\": \"short\", \"min\": null, \"label\": null}], \"xaxis\": {\"show\": true, \"values\": [], \"mode\": \"time\", \"name\": null}, \"seriesOverrides\": [], \"percentage\": false, \"type\": \"graph\", \"error\": false, \"editable\": true, \"grid\": {}, \"stack\": false, \"timeShift\": null, \"aliasColors\": {\"cpu.sys\": \"#CCA300\", \"cpu.iowait\": \"#052B51\", \"cpu.idle\": \"#E0F9D7\", \"cpu.user\": \"#890F02\"}, \"lines\": true, \"points\": false, \"datasource\": null, \"pointradius\": 5}, {\"bars\": false, \"timeFrom\": null, \"links\": [], \"isNew\": true, \"thresholds\": [], \"nullPointMode\": \"connected\", \"renderer\": \"flot\", \"linewidth\": 2, \"steppedLine\": false, \"id\": 2, \"fill\": 1, \"span\": 6, \"title\": \"MEMORY\", \"tooltip\": {\"sort\": 0, \"shared\": true, \"value_type\": \"cumulative\", \"msResolution\": true}, \"legend\": {\"total\": false, \"show\": true, \"max\": false, \"min\": false, \"current\": false, \"values\": false, \"avg\": false}, \"targets\": [{\"dsType\": \"influxdb\", \"tags\": [{\"operator\": \"=\", \"value\": \"$hostname\", \"key\": \"host\"}], \"groupBy\": [], \"select\": [[{\"type\": \"field\", \"params\": [\"available\"]}, {\"type\": \"alias\", \"params\": [\"avail\"]}], [{\"type\": \"field\", \"params\": [\"used\"]}, {\"type\": \"alias\", \"params\": [\"used\"]}]], \"measurement\": \"mem\", \"policy\": \"default\", \"refId\": \"A\", \"resultFormat\": \"time_series\"}], \"yaxes\": [{\"logBase\": 1, \"show\": true, \"max\": null, \"format\": \"bytes\", \"min\": null, \"label\": null}, {\"logBase\": 1, \"show\": false, \"max\": null, \"format\": \"short\", \"min\": null, \"label\": null}], \"xaxis\": {\"show\": true, \"values\": [], \"mode\": \"time\", \"name\": null}, \"seriesOverrides\": [], \"percentage\": false, \"type\": \"graph\", \"error\": false, \"editable\": true, \"grid\": {}, \"stack\": false, \"timeShift\": null, \"aliasColors\": {}, \"lines\": true, \"points\": false, \"datasource\": null, \"pointradius\": 5}], \"showTitle\": false, \"repeatIteration\": null}, {\"repeat\": null, \"titleSize\": \"h6\", \"collapse\": false, \"isNew\": false, \"title\": \"New row\", \"editable\": true, \"height\": \"250px\", \"repeatRowId\": null, \"panels\": [{\"bars\": false, \"timeFrom\": null, \"links\": [], \"isNew\": true, \"thresholds\": [], \"nullPointMode\": \"connected\", \"renderer\": \"flot\", \"linewidth\": 2, \"steppedLine\": false, \"id\": 3, \"fill\": 1, \"span\": 6, \"title\": \"Disk Usage\", \"tooltip\": {\"sort\": 0, \"shared\": true, \"value_type\": \"cumulative\", \"msResolution\": true}, \"legend\": {\"total\": false, \"show\": true, \"max\": false, \"min\": false, \"current\": false, \"values\": false, \"avg\": false}, \"targets\": [{\"dsType\": \"influxdb\", \"tags\": [{\"operator\": \"=\", \"value\": \"$hostname\", \"key\": \"host\"}], \"groupBy\": [{\"type\": \"time\", \"params\": [\"1s\"]}, {\"type\": \"fill\", \"params\": [\"null\"]}], \"select\": [[{\"type\": \"field\", \"params\": [\"total\"]}, {\"type\": \"mean\", \"params\": []}, {\"type\": \"alias\", \"params\": [\"total\"]}], [{\"type\": \"field\", \"params\": [\"used\"]}, {\"type\": \"mean\", \"params\": []}, {\"type\": \"alias\", \"params\": [\"used\"]}]], \"measurement\": \"disk\", \"policy\": \"default\", \"refId\": \"A\", \"resultFormat\": \"time_series\"}], \"yaxes\": [{\"logBase\": 1, \"show\": true, \"max\": null, \"format\": \"short\", \"min\": null, \"label\": null}, {\"logBase\": 1, \"show\": true, \"max\": null, \"format\": \"short\", \"min\": null, \"label\": null}], \"xaxis\": {\"show\": true, \"values\": [], \"mode\": \"time\", \"name\": null}, \"seriesOverrides\": [], \"percentage\": false, \"type\": \"graph\", \"error\": false, \"editable\": true, \"grid\": {}, \"stack\": false, \"timeShift\": null, \"aliasColors\": {\"disk.total\": \"#508642\", \"disk.used\": \"#890F02\"}, \"lines\": true, \"points\": false, \"datasource\": null, \"pointradius\": 5}, {\"bars\": false, \"timeFrom\": null, \"links\": [], \"isNew\": true, \"thresholds\": [], \"nullPointMode\": \"connected\", \"renderer\": \"flot\", \"linewidth\": 2, \"steppedLine\": false, \"id\": 4, \"fill\": 1, \"span\": 6, \"title\": \"Disk IO\", \"tooltip\": {\"sort\": 0, \"shared\": true, \"value_type\": \"cumulative\", \"msResolution\": true}, \"legend\": {\"total\": false, \"show\": true, \"max\": false, \"min\": false, \"current\": false, \"values\": false, \"avg\": false}, \"targets\": [{\"dsType\": \"influxdb\", \"tags\": [{\"operator\": \"=\", \"value\": \"$hostname\", \"key\": \"host\"}], \"groupBy\": [{\"type\": \"time\", \"params\": [\"1s\"]}, {\"type\": \"fill\", \"params\": [\"null\"]}], \"select\": [[{\"type\": \"field\", \"params\": [\"reads\"]}, {\"type\": \"mean\", \"params\": []}, {\"type\": \"alias\", \"params\": [\"reads\"]}], [{\"type\": \"field\", \"params\": [\"writes\"]}, {\"type\": \"mean\", \"params\": []}, {\"type\": \"alias\", \"params\": [\"writes\"]}]], \"measurement\": \"diskio\", \"policy\": \"default\", \"refId\": \"A\", \"resultFormat\": \"time_series\"}], \"yaxes\": [{\"logBase\": 1, \"show\": true, \"max\": null, \"format\": \"short\", \"min\": null, \"label\": null}, {\"logBase\": 1, \"show\": true, \"max\": null, \"format\": \"short\", \"min\": null, \"label\": null}], \"xaxis\": {\"show\": true, \"values\": [], \"mode\": \"time\", \"name\": null}, \"seriesOverrides\": [], \"percentage\": false, \"type\": \"graph\", \"error\": false, \"editable\": true, \"grid\": {}, \"stack\": false, \"timeShift\": null, \"aliasColors\": {\"diskio.reads\": \"#E24D42\"}, \"lines\": true, \"points\": false, \"datasource\": null, \"pointradius\": 5}], \"showTitle\": false, \"repeatIteration\": null}, {\"repeat\": null, \"titleSize\": \"h6\", \"collapse\": false, \"isNew\": false, \"title\": \"New row\", \"editable\": true, \"height\": \"250px\", \"repeatRowId\": null, \"panels\": [{\"bars\": false, \"timeFrom\": null, \"links\": [], \"isNew\": true, \"thresholds\": [], \"nullPointMode\": \"connected\", \"renderer\": \"flot\", \"linewidth\": 2, \"steppedLine\": false, \"id\": 5, \"fill\": 1, \"span\": 12, \"title\": \"Network IO\", \"tooltip\": {\"sort\": 0, \"shared\": true, \"value_type\": \"cumulative\", \"msResolution\": true}, \"legend\": {\"total\": false, \"show\": true, \"max\": false, \"min\": false, \"current\": false, \"values\": false, \"avg\": false}, \"targets\": [{\"dsType\": \"influxdb\", \"tags\": [{\"operator\": \"=\", \"value\": \"$hostname\", \"key\": \"host\"}], \"groupBy\": [{\"type\": \"time\", \"params\": [\"1s\"]}, {\"type\": \"fill\", \"params\": [\"null\"]}], \"select\": [[{\"type\": \"field\", \"params\": [\"bytes_recv\"]}, {\"type\": \"mean\", \"params\": []}, {\"type\": \"alias\", \"params\": [\"bytes_recv\"]}], [{\"type\": \"field\", \"params\": [\"bytes_sent\"]}, {\"type\": \"mean\", \"params\": []}, {\"type\": \"alias\", \"params\": [\"bytes_sent\"]}]], \"measurement\": \"net\", \"policy\": \"default\", \"refId\": \"A\", \"resultFormat\": \"time_series\"}], \"yaxes\": [{\"logBase\": 1, \"show\": true, \"max\": null, \"format\": \"short\", \"min\": null, \"label\": null}, {\"logBase\": 1, \"show\": true, \"max\": null, \"format\": \"short\", \"min\": null, \"label\": null}], \"xaxis\": {\"show\": true, \"values\": [], \"mode\": \"time\", \"name\": null}, \"seriesOverrides\": [], \"percentage\": false, \"type\": \"graph\", \"error\": false, \"editable\": true, \"grid\": {}, \"stack\": false, \"timeShift\": null, \"aliasColors\": {\"net.bytes_sent\": \"#7EB26D\", \"net.bytes_recv\": \"#E24D42\"}, \"lines\": true, \"points\": false, \"datasource\": null, \"pointradius\": 5}], \"showTitle\": false, \"repeatIteration\": null}], \"schemaVersion\": 6, \"version\": 0 }, \"overwrite\": false}" \
-X POST \
http://admin:admin@$host/api/dashboards/db

